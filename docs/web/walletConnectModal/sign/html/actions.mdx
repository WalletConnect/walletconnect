import ConnectReference from '../../_partials/sign-api/connectReference.mdx'
import DisconnectReference from '../../_partials/sign-api/disconnectReference.mdx'
import RequestReference from '../../_partials/sign-api/disconnectReference.mdx'
import EventCallbackReference from '../../_partials/sign-api/eventCallbackReference.mdx'

# Actions

## connect

Action to create connection request with given namespace.

### Example

```js
const data = await modal.connect({
  requiredNamespaces: {
    eip155: {
      methods: ['eth_sendTransaction', 'personal_sign'],
      chains: ['eip155:1'],
      events: ['chainChanged', 'accountsChanged']
    }
  }
})
```

### Reference

```ts
connect: (options: Namespace) => Promise<Session>
```

<ConnectReference />

## disconnect

Action to disconnect from a provided session topic via given reason.

### Example

```js
import { getSdkError } from '@walletconnect/utils'

await modal.disconnect({
  topic: '12345...',
  reason: getSdkError('USER_DISCONNECTED')
})
```

### Reference

```ts
disconnect: DisconnectOptions => Promise<void>
```

<DisconnectReference />

## request

Action to perform a json-rpc request.

### Example

```js
const response = await modal.request({
  topic: '12345...',
  chainId: 'eip155:1',
  request: {
    id: 1,
    jsonrpc: '2.0',
    method: 'personal_sign',
    params: [
      '0x1d85568eEAbad713fBB5293B45ea066e552A90De',
      '0x7468697320697320612074657374206d65737361676520746f206265207369676e6564'
    ]
  }
})
```

### Reference

```ts
request: (options: RequestOptions) => Promise<any>
```

<RequestReference />

## getSessions

Action to get array of established sessions

### Example

```js
const sessions = await modal.getSessions()
```

### Reference

```ts
getSessions: () => Promise<Session[]>
```

See [reference for connect method](#reference), to learn more about sessions.

## getSession

Action to get last established (active) session

### Example

```js
const session = await modal.getSession()
```

### Reference

```ts
getSession: () => Promise<Session>
```

See [reference for connect method](#reference), to learn more about sessions.

## onSessionEvent

Action to subscribe to session events

### Example

```js
function logData(data) {
  console.info(data)
}

modal.onSessionEvent(logData)
```

### Reference

```ts
onSessionEvent: (callback: EventCallback) => void
```

<EventCallbackReference />

## offSessionEvent

Action to unsubscribe from session events

### Example

```js
function logData(data) {
  console.info(data)
}

modal.offSessionEvent(logData)
```

### Reference

```ts
offSessionEvent: (callback: EventCallback) => void
```

<EventCallbackReference />

## onSessionUpdate

Action to subscribe to session updates

### Example

```js
function logData(data) {
  console.info(data)
}

modal.onSessionUpdate(logData)
```

### Reference

```ts
onSessionUpdate: (callback: EventCallback) => void
```

<EventCallbackReference />

## offSessionUpdate

Action to unsubscribe from session updates

### Example

```js
function logData(data) {
  console.info(data)
}

modal.offSessionUpdate(logData)
```

### Reference

```ts
offSessionUpdate: (callback: EventCallback) => void
```

<EventCallbackReference />

## onSessionDelete

Action to subscribe to session deletions

### Example

```js
function logData(data) {
  console.info(data)
}

modal.onSessionDelete(logData)
```

### Reference

```ts
onSessionDelete: (callback: EventCallback) => void
```

<EventCallbackReference />

## offSessionDelete

Action to unsubscribe from session deletions

### Example

```js
function logData(data) {
  console.info(data)
}

modal.offSessionDelete(logData)
```

### Reference

```ts
offSessionDelete: (callback: EventCallback) => void
```

<EventCallbackReference />

## onSessionExpire

Action to subscribe to session expirations

### Example

```js
function logData(data) {
  console.info(data)
}

modal.onSessionExpire(logData)
```

### Reference

```ts
onSessionExpire: (callback: EventCallback) => void
```

<EventCallbackReference />

## offSessionExpire

Action to unsubscribe from session expirations

### Example

```js
function logData(data) {
  console.info(data)
}

modal.offSessionExpire(logData)
```

### Reference

```ts
offSessionExpire: (callback: EventCallback) => void
```

<EventCallbackReference />
